<vex-page-layout>
<!--     <vex-page-layout-header class="pb-16 flex flex-col items-start justify-center">
        <div class="w-full flex flex-col sm:flex-row justify-between">
            <h1 class="title mt-0 mb-1">Administrador de Formularios</h1>
        </div>
        <div class="w-full flex flex-col sm:flex-row justify-between">
            <vex-breadcrumbs [crumbs]="['Administrador de Formularios', 'Lista de Opciones']"></vex-breadcrumbs>
        </div>
    </vex-page-layout-header> -->
  <div class="p-gutter m-2">
    <div class="card overflow-auto mt-2">
        <div class="bg-app-bar px-6 h-16 border-b sticky left-0 flex items-center">
            <h2 class="title my-0 ltr:pr-4 rtl:pl-4 ltr:mr-4 rtl:ml-4 ltr:border-r rtl:border-l hidden sm:block flex-none">
                Lista de Opciones
            </h2>
           <!--  <div class="bg-foreground rounded-full border px-4 max-w-[300px] flex-auto flex items-center border border-gray-300">
                <mat-icon class="icon-sm text-secondary" svgIcon="mat:search"></mat-icon>
                <input
                    class="px-4 py-2 border-0 outline-none w-full bg-transparent"
                    placeholder="Buscar..."
                    type="search">
            </div> -->
            <span class="flex-1"></span>
            <button (click)="openModalCreate()"
                    class="ml-4 flex-none"
                    color="primary"
                    mat-mini-fab
                    matTooltip="Agregar Grupo"
                    type="button">
                <mat-icon svgIcon="mat:add"></mat-icon>
            </button>
        </div>

        <table mat-table [dataSource]="this.dataSource" class="w-full" matSort>
          <ng-container matColumnDef="grupo">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              GRUPO
            </th>
            <td
              mat-cell
              *matCellDef="let element"
            >
              {{ element.grupo }}
            </td>
          </ng-container>

          <ng-container matColumnDef="acciones">
            <th mat-header-cell *matHeaderCellDef style="text-align: center;" >ACCIONES</th>
            <td
              mat-cell
              *matCellDef="let element"
              [ngClass]="['text-secondary', 'font-medium']"
            >

            <div class="flex items-center justify-center">
              <a (click)="openModalUpdate(element)"
              matTooltip="Editar Grupo"
              class="w-10 h-10 leading-none flex items-center justify-center hover:bg-hover text-primary bg-primary/10"
              mat-icon-button
              *ngIf="element.activo"
              >
              <mat-icon class="icon-sm" svgIcon="mat:edit"></mat-icon>
              </a>

             <!--  <a (click)="deleteGrupo(element)"
              matTooltip="Eliminar Grupo"
              class="w-10 h-10 leading-none flex items-center justify-center ml-2 hover:bg-hover text-warn bg-primary/10"
              mat-icon-button>
              <mat-icon class="icon-sm" svgIcon="mat:delete"></mat-icon>
              </a> -->
              <mat-slide-toggle class="ml-3"  color="primary" [checked]="element.activo" (change)="deleteGrupo(element, $event)">{{element.activo ? 'Activo' : 'Inactivo'}}</mat-slide-toggle>
          </div>

            </td>
          </ng-container>

          <tr
            mat-header-row
            *matHeaderRowDef="displayedColumns"
          ></tr>
          <tr
            mat-row
            *matRowDef="let row; columns: displayedColumns"
          ></tr>
        </table>

        <div *ngIf="this.grupos.length == 0" class=" flex-auto items-center justify-center">
          <h3 class=" m-10 headline" style="text-align: center;">No se encontraron grupos de respuestas registrados.</h3>
        </div>
        <mat-paginator #paginator [pageSizeOptions]="[5, 10, 15]"></mat-paginator>



        <!-- <table [dataSource]="this.dataSource" class="w-full" mat-table matSort>

            <ng-container *ngFor="let column of columns;">
                <ng-container *ngIf="column.property== 'name'" [matColumnDef]="column.property">
                <th *matHeaderCellDef class="uppercase" mat-header-cell mat-sort-header> {{ column.label }}</th>
                <td *matCellDef="let row" [ngClass]="column.cssClasses" mat-cell>{{ row.grupo }}</td>
                </ng-container>
            </ng-container>

            <ng-container *ngFor="let column of columns;">
                <ng-container *ngIf="column.property === 'firstName'" [matColumnDef]="column.property">
                <th *matHeaderCellDef class="uppercase" mat-header-cell mat-sort-header> {{ column.label }}</th>
                <td *matCellDef="let row" [ngClass]="column.cssClasses" mat-cell>{{ row.tblOpcionesPregunta.length }}</td>
                </ng-container>
            </ng-container>

            <ng-container *ngFor="let column of columns;">
                <ng-container *ngIf="column.type === 'button'" [matColumnDef]="column.property">
                <th *matHeaderCellDef class="uppercase" mat-header-cell mat-sort-header> {{ column.label }}</th>
                <td *matCellDef="let row" [ngClass]="column.cssClasses" mat-cell>
                    <div class="flex">
                        <a (click)="openModalUpdate(row)"
                        matTooltip="Editar Grupo"
                        class="w-10 h-10 leading-none flex items-center justify-center hover:bg-hover text-primary bg-primary/10"
                        mat-icon-button>
                        <mat-icon class="icon-sm" svgIcon="mat:edit"></mat-icon>
                        </a>

                        <a (click)="deleteGrupo(row)"
                        matTooltip="Eliminar Grupo"
                        class="w-10 h-10 leading-none flex items-center justify-center ml-2 hover:bg-hover text-warn bg-primary/10"
                        mat-icon-button>
                        <mat-icon class="icon-sm" svgIcon="mat:delete"></mat-icon>
                        </a>
                    </div>
                </td>
                </ng-container>
            </ng-container>

            <tr *matHeaderRowDef="visibleColumns" mat-header-row></tr>
            <tr *matRowDef="let row; columns: visibleColumns;"
                class="hover:bg-hover trans-ease-out cursor-pointer"
                mat-row></tr>
        </table>
        <mat-paginator #paginator [pageSizeOptions]="[5, 10, 15]"></mat-paginator> -->
    </div>
  </div>
</vex-page-layout>

